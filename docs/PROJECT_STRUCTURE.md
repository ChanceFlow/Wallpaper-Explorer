# é¡¹ç›®ç»“æ„è¯´æ˜

## ğŸ“ ç›®å½•ç»“æ„

```
Wallpaper-Explorer/
â”œâ”€â”€ ğŸ“ src/                     # æºä»£ç ç›®å½•
â”‚   â”œâ”€â”€ ğŸ“„ lib.rs               # åº“å…¥å£ç‚¹ï¼Œå®šä¹‰å…¬å…±æ¨¡å—
â”‚   â”œâ”€â”€ ğŸ“„ main.rs              # åº”ç”¨ç¨‹åºå…¥å£ç‚¹
â”‚   â”œâ”€â”€ ğŸ“„ app.rs               # ä¸»åº”ç”¨ç¨‹åºç®¡ç†å™¨
â”‚   â”œâ”€â”€ ğŸ“„ error.rs             # ç»Ÿä¸€é”™è¯¯å¤„ç†
â”‚   â”œâ”€â”€ ğŸ“„ config.rs            # é…ç½®ç®¡ç†
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸ“ models/              # æ•°æ®æ¨¡å‹
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ mod.rs           # æ¨¡å—å…¥å£
â”‚   â”‚   â””â”€â”€ ğŸ“„ wallpaper.rs     # å£çº¸æ•°æ®æ¨¡å‹
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸ“ services/            # ä¸šåŠ¡é€»è¾‘æœåŠ¡
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ mod.rs           # æ¨¡å—å…¥å£
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ wallpaper_service.rs    # å£çº¸æ‰«æå’Œç®¡ç†
â”‚   â”‚   â””â”€â”€ ğŸ“„ thumbnail_service.rs    # ç¼©ç•¥å›¾ç”Ÿæˆå’Œç¼“å­˜
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸ“ ui/                  # ç”¨æˆ·ç•Œé¢
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ mod.rs           # æ¨¡å—å…¥å£
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ main_window.rs   # ä¸»çª—å£åŒ…è£…å™¨
â”‚   â”‚   â””â”€â”€ ğŸ“„ app-window.slint # Slint UIå®šä¹‰
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸ“ components/          # å¯å¤ç”¨ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ mod.rs           # æ¨¡å—å…¥å£
â”‚   â”‚   â””â”€â”€ ğŸ“„ wallpaper_grid.rs # å£çº¸ç½‘æ ¼ç»„ä»¶
â”‚   â”‚
â”‚   â””â”€â”€ ğŸ“ utils/               # å·¥å…·å‡½æ•°
â”‚       â”œâ”€â”€ ğŸ“„ mod.rs           # æ¨¡å—å…¥å£
â”‚       â”œâ”€â”€ ğŸ“„ file_utils.rs    # æ–‡ä»¶æ“ä½œå·¥å…·
â”‚       â””â”€â”€ ğŸ“„ image_utils.rs   # å›¾åƒå¤„ç†å·¥å…·
â”‚
â”œâ”€â”€ ğŸ“ tests/                   # æµ‹è¯•ç›®å½•
â”‚   â””â”€â”€ ğŸ“„ integration_tests.rs # é›†æˆæµ‹è¯•
â”‚
â”œâ”€â”€ ğŸ“ docs/                    # æ–‡æ¡£ç›®å½•
â”‚   â”œâ”€â”€ ğŸ“„ ARCHITECTURE.md      # æ¶æ„æ–‡æ¡£
â”‚   â””â”€â”€ ğŸ“„ PROJECT_STRUCTURE.md # é¡¹ç›®ç»“æ„è¯´æ˜
â”‚
â”œâ”€â”€ ğŸ“ scripts/                 # è„šæœ¬ç›®å½•
â”‚   â”œâ”€â”€ ğŸ“„ dev.sh               # å¼€å‘ç¯å¢ƒè„šæœ¬
â”‚   â””â”€â”€ ğŸ“„ build.sh             # æ„å»ºè„šæœ¬
â”‚
â”œâ”€â”€ ğŸ“ assets/                  # èµ„æºæ–‡ä»¶ï¼ˆä¿ç•™ï¼‰
â”‚   â”œâ”€â”€ ğŸ“ fonts/
â”‚   â”œâ”€â”€ ğŸ“ icons/
â”‚   â””â”€â”€ ğŸ“ images/
â”‚
â”œâ”€â”€ ğŸ“„ Cargo.toml               # Rust é¡¹ç›®é…ç½®
â”œâ”€â”€ ğŸ“„ Cargo.lock               # ä¾èµ–é”å®šæ–‡ä»¶
â”œâ”€â”€ ğŸ“„ build.rs                 # æ„å»ºè„šæœ¬
â”œâ”€â”€ ğŸ“„ README.md                # é¡¹ç›®è¯´æ˜
â””â”€â”€ ğŸ“„ LICENSE                  # è®¸å¯è¯æ–‡ä»¶
```

## ğŸ—ï¸ æ¶æ„å±‚æ¬¡

### 1. åº”ç”¨å±‚ (Application Layer)
- `src/main.rs` - åº”ç”¨ç¨‹åºå…¥å£
- `src/app.rs` - ä¸»åº”ç”¨ç¨‹åºç®¡ç†å™¨

### 2. ç”¨æˆ·ç•Œé¢å±‚ (UI Layer)
- `src/ui/` - UI ç›¸å…³ä»£ç 
- `src/components/` - å¯å¤ç”¨çš„UIç»„ä»¶

### 3. æœåŠ¡å±‚ (Service Layer)
- `src/services/` - ä¸šåŠ¡é€»è¾‘å¤„ç†

### 4. æ•°æ®å±‚ (Data Layer)
- `src/models/` - æ•°æ®æ¨¡å‹å®šä¹‰

### 5. å·¥å…·å±‚ (Utility Layer)
- `src/utils/` - é€šç”¨å·¥å…·å‡½æ•°
- `src/config.rs` - é…ç½®ç®¡ç†
- `src/error.rs` - é”™è¯¯å¤„ç†

## ğŸ“‹ æ–‡ä»¶è¯´æ˜

### æ ¸å¿ƒæ–‡ä»¶

| æ–‡ä»¶ | ä½œç”¨ | ä¾èµ–å…³ç³» |
|------|------|----------|
| `lib.rs` | åº“å…¥å£ï¼Œå®šä¹‰å…¬å…±API | æ‰€æœ‰æ¨¡å— |
| `main.rs` | åº”ç”¨å…¥å£ï¼Œåˆå§‹åŒ–åº”ç”¨ | `app.rs` |
| `app.rs` | åº”ç”¨ç®¡ç†å™¨ï¼Œåè°ƒå„ç»„ä»¶ | `config.rs`, `services/`, `ui/` |
| `error.rs` | ç»Ÿä¸€é”™è¯¯å¤„ç† | æ—  |
| `config.rs` | é…ç½®ç®¡ç† | `error.rs` |

### æ¨¡å‹æ–‡ä»¶

| æ–‡ä»¶ | ä½œç”¨ |
|------|------|
| `models/wallpaper.rs` | å£çº¸æ•°æ®æ¨¡å‹ï¼ŒåŒ…å«å£çº¸çš„æ‰€æœ‰å±æ€§ |

### æœåŠ¡æ–‡ä»¶

| æ–‡ä»¶ | ä½œç”¨ | ä¾èµ– |
|------|------|------|
| `services/wallpaper_service.rs` | å£çº¸æ‰«æã€ç®¡ç†æœåŠ¡ | `models/`, `config.rs` |
| `services/thumbnail_service.rs` | ç¼©ç•¥å›¾ç”Ÿæˆå’Œç¼“å­˜æœåŠ¡ | `config.rs` |

### UIæ–‡ä»¶

| æ–‡ä»¶ | ä½œç”¨ | ä¾èµ– |
|------|------|------|
| `ui/main_window.rs` | ä¸»çª—å£RuståŒ…è£…å™¨ | `error.rs` |
| `ui/app-window.slint` | Slint UIå®šä¹‰æ–‡ä»¶ | æ—  |

### ç»„ä»¶æ–‡ä»¶

| æ–‡ä»¶ | ä½œç”¨ | ä¾èµ– |
|------|------|------|
| `components/wallpaper_grid.rs` | å£çº¸ç½‘æ ¼å¸ƒå±€ç»„ä»¶ | `models/` |

### å·¥å…·æ–‡ä»¶

| æ–‡ä»¶ | ä½œç”¨ | ä¾èµ– |
|------|------|------|
| `utils/file_utils.rs` | æ–‡ä»¶æ“ä½œå·¥å…·å‡½æ•° | `error.rs` |
| `utils/image_utils.rs` | å›¾åƒå¤„ç†å·¥å…·å‡½æ•° | `error.rs` |

## ğŸ”„ æ•°æ®æµå‘

```
ç”¨æˆ·æ“ä½œ â†’ UIå±‚ â†’ åº”ç”¨ç®¡ç†å™¨ â†’ æœåŠ¡å±‚ â†’ æ•°æ®å±‚
    â†‘                                      â†“
    â† â† â† â† â† â† â† â† â† â† â† â† â† â† â† â† â† â† â† â†
```

## ğŸ§ª æµ‹è¯•ç»“æ„

- `tests/integration_tests.rs` - é›†æˆæµ‹è¯•
- å„æ¨¡å—å†…çš„ `#[cfg(test)]` - å•å…ƒæµ‹è¯•

## ğŸ“¦ æ„å»ºäº§ç‰©

- `target/debug/` - è°ƒè¯•ç‰ˆæœ¬
- `target/release/` - å‘å¸ƒç‰ˆæœ¬
- ç¼“å­˜ç›®å½•ï¼ˆç”¨æˆ·é…ç½®ç›®å½•ä¸‹ï¼‰

## ğŸ”§ å¼€å‘å·¥å…·

- `scripts/dev.sh` - å¼€å‘ç¯å¢ƒå¯åŠ¨è„šæœ¬
- `scripts/build.sh` - æ„å»ºè„šæœ¬
- `build.rs` - Slint UI ç¼–è¯‘è„šæœ¬ 